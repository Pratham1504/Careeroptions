<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Career Options for Prarthna ‚Äî Improved</title>
  <meta name="description" content="Explore your career options after BA-LLB" />
  <style>
    /* --- Base reset & variables --- */
    :root{
      --accent1:#667eea;
      --accent2:#764ba2;
      --muted:#666;
      --card-bg:#ffffff;
      --glass: rgba(255,255,255,0.9);
      --success:#10b981;
      --warning:#f59e0b;
      --danger:#ef4444;
    }
    *{box-sizing:border-box;margin:0;padding:0}
    html,body{height:100%}
    body{
      font-family:system-ui,-apple-system,BlinkMacSystemFont,'Segoe UI',Roboto,Helvetica,Arial;
      background:linear-gradient(135deg,var(--accent1) 0%,var(--accent2) 100%);
      color:#222;min-height:100vh;overflow-x:hidden;padding-bottom:80px;
    }

    /* --- Page layout --- */
    .page{display:none;min-height:100vh;padding:20px}
    .page.active{display:flex;flex-direction:column}
    .container{max-width:980px;margin:0 auto;width:100%}

    /* --- Welcome --- */
    .welcome-container{max-width:680px;margin:30px auto;text-align:center;animation:fadeIn .6s ease}
    .welcome-logo{width:96px;height:96px;margin:0 auto 18px;border-radius:18px;background:var(--glass);display:flex;align-items:center;justify-content:center;font-size:40px;color:var(--accent1);box-shadow:0 18px 50px rgba(0,0,0,.22)}
    .welcome-title{font-size:32px;font-weight:800;color:#fff;margin-bottom:10px;text-shadow:0 2px 10px rgba(0,0,0,.18)}
    .welcome-subtitle{color:rgba(255,255,255,.95);line-height:1.5;margin-bottom:20px}

    .feature-list{background:var(--glass);border-radius:14px;padding:18px;margin:18px 0;box-shadow:0 10px 40px rgba(0,0,0,.18);text-align:left}
    .feature-item{display:flex;gap:12px;align-items:center;margin-bottom:10px}
    .feature-icon{width:40px;height:40px;border-radius:10px;background:linear-gradient(135deg,var(--accent1),var(--accent2));display:flex;align-items:center;justify-content:center;color:white}

    .btn{background:white;color:var(--accent1);border:none;padding:14px 22px;font-size:16px;font-weight:700;border-radius:999px;cursor:pointer;box-shadow:0 10px 30px rgba(0,0,0,.18)}
    .btn:active{transform:translateY(1px)}

    /* --- Explorer --- */
    .explorer-header{display:flex;gap:12px;align-items:center;margin:12px 0}
    .progress-bar-wrap{flex:1;background:rgba(255,255,255,.12);height:10px;border-radius:999px;overflow:hidden}
    .progress-bar{height:100%;width:0;background:linear-gradient(90deg,var(--accent1),var(--accent2));transition:width .35s}
    .progress-label{min-width:140px;text-align:right;color:var(--glass)}

    .card-container{background:var(--card-bg);border-radius:16px;padding:22px;box-shadow:0 20px 60px rgba(0,0,0,.18);margin-top:12px;display:flex;flex-direction:column;gap:12px}
    .card-category{display:inline-block;background:linear-gradient(135deg,var(--accent1),var(--accent2));color:white;padding:6px 12px;border-radius:12px;font-weight:700;font-size:13px}
    .card-title{font-size:22px;font-weight:800;color:#222}
    .card-subtitle{color:var(--muted)}
    .card-description{color:#444;line-height:1.6}

    .pros-cons{display:grid;grid-template-columns:1fr 1fr;gap:12px}
    .box{background:#f7f8fb;border-radius:12px;padding:12px}
    .box h4{margin-bottom:8px}
    .action-steps{background:#fff9e6;border-left:4px solid #fbbf24;padding:12px;border-radius:8px}

    .button-group{display:flex;gap:10px;margin-top:6px}
    .action-btn{flex:1;padding:12px;border-radius:12px;border:1px solid #eee;background:white;display:flex;flex-direction:column;align-items:center;gap:6px;cursor:pointer}
    .action-btn .emoji{font-size:20px}
    .action-btn.interested{background:linear-gradient(135deg,var(--success),#047857);color:white;border:none}
    .action-btn.review{background:linear-gradient(135deg,var(--warning),#d97706);color:white;border:none}
    .action-btn.not-interested{background:linear-gradient(135deg,var(--danger),#b91c1c);color:white;border:none}

    .nav-row{display:flex;gap:10px;margin-top:12px}
    .nav-btn{flex:1;padding:12px;border-radius:12px;border:none;background:linear-gradient(135deg,var(--accent1),var(--accent2));color:white;font-weight:700}
    .nav-btn.secondary{background:white;color:var(--accent1);border:2px solid var(--accent1)}

    /* --- Summary --- */
    .summary-grid{display:grid;grid-template-columns:repeat(3,1fr);gap:12px}
    .stat-box{background:linear-gradient(135deg,var(--accent1),var(--accent2));color:white;border-radius:12px;padding:16px;text-align:center}

    .summary-section{background:white;border-radius:12px;padding:12px;margin-top:12px}
    .option-card-small{display:flex;justify-content:space-between;align-items:center;padding:10px;border-radius:8px;background:#f7f8fb;margin-bottom:8px}

    /* --- Toast & bottom bar --- */
    .toast{position:fixed;left:50%;transform:translateX(-50%);bottom:96px;background:#111;color:white;padding:10px 14px;border-radius:10px;opacity:0;pointer-events:none;transition:opacity .25s}
    .toast.show{opacity:1;pointer-events:auto}

    .bottom-bar{position:fixed;left:0;right:0;bottom:12px;padding:8px 16px;display:flex;gap:10px;justify-content:space-between;align-items:center;max-width:980px;margin:0 auto}

    .mobile-nav{display:none}

    /* --- Responsive mobile --- */
    @media (max-width:768px){
      .card-container{padding:18px}
      .welcome-title{font-size:28px}
      .pros-cons{grid-template-columns:1fr}
      .button-group{flex-direction:column}
      .mobile-nav{display:flex;gap:8px;width:100%}
      .bottom-bar{padding:10px;left:12px;right:12px}
      .nav-row{display:none}
      body{padding-bottom:120px}
    }

    @keyframes fadeIn{from{opacity:0;transform:translateY(12px)}to{opacity:1;transform:none}}
  </style>
</head>
<body>
  <!-- Welcome Page -->
  <div id="welcomePage" class="page active">
    <div class="welcome-container container">
      <div class="welcome-logo">P</div>
      <h1 class="welcome-title">Hey Prarthna! üëã</h1>
      <p class="welcome-subtitle">You're about to complete your BA-LLB ‚Äî here's a quick interactive explorer of thoughtfully picked career options. Tap "Start" to try it on your phone.</p>

      <div class="feature-list">
        <h3 style="color:var(--accent1);margin-bottom:8px">What you'll find here</h3>
        <div class="feature-item"><div class="feature-icon">üìö</div><div>9 career paths with action steps</div></div>
        <div class="feature-item"><div class="feature-icon">‚ú®</div><div>Mobile-first interactions & gestures</div></div>
        <div class="feature-item"><div class="feature-icon">üíæ</div><div>Auto-save and export</div></div>
      </div>

      <div style="display:flex;gap:10px;justify-content:center;margin-top:6px;flex-wrap:wrap">
        <button id="startBtn" type="button" class="btn">Start Exploring</button>
        <button id="importBtn" type="button" class="btn" style="background:transparent;border:2px solid rgba(255,255,255,0.18);color:white">Import Choices</button>
      </div>
    </div>
  </div>

  <!-- Explorer Page -->
  <div id="explorerPage" class="page">
    <div class="container">
      <div class="explorer-header">
        <div style="display:flex;flex-direction:column;gap:6px;flex:1">
          <div style="display:flex;align-items:center;gap:8px">
            <div class="progress-bar-wrap" aria-hidden="true"><div id="progressBar" class="progress-bar"></div></div>
            <div class="progress-label" id="progressText">Option 1 of 9</div>
          </div>
          <div style="display:flex;gap:8px;align-items:center;margin-top:6px">
            <input id="searchInput" placeholder="Search options" style="flex:1;padding:8px;border-radius:10px;border:none" />
            <select id="filterSelect" aria-label="Filter by category" style="padding:8px;border-radius:10px;border:none">
              <option value="all">All</option>
            </select>
          </div>
        </div>
      </div>

      <div id="cardContainer" class="card-container" role="region" aria-live="polite"></div>

      <!-- Desktop nav -->
      <div class="nav-row">
        <button id="prevBtn" class="nav-btn secondary">‚Üê Previous</button>
        <div style="display:flex;gap:8px;flex:1;justify-content:center">
          <button id="undoBtn" class="nav-btn secondary">Undo</button>
          <button id="exportBtn" class="nav-btn">Export Summary</button>
          <button id="summaryBtn" class="nav-btn secondary">View Summary</button>
        </div>
        <button id="nextBtn" class="nav-btn">Next ‚Üí</button>
      </div>

      <!-- Mobile bottom bar -->
      <div class="bottom-bar">
        <div class="mobile-nav">
          <button id="mPrev" class="btn">‚óÄ</button>
          <button id="mNext" class="btn">‚ñ∂</button>
        </div>
        <div style="display:flex;gap:8px">
          <button id="mExport" class="btn" style="padding:10px 12px">Export</button>
          <button id="mSummary" class="btn" style="padding:10px 12px">Summary</button>
        </div>
      </div>
    </div>
  </div>

  <!-- Summary Page -->
  <div id="summaryPage" class="page">
    <div class="container">
      <div class="summary-header" style="margin-top:12px">
        <h2 style="color:#fff">Your Career Exploration Summary</h2>
        <p style="color:rgba(255,255,255,.9)">Quick snapshot ‚Äî you can export this as JSON.</p>
        <div class="summary-grid">
          <div class="stat-box"><div style="font-size:22px;font-weight:800" id="interestedCount">0</div><div>Interested</div></div>
          <div class="stat-box"><div style="font-size:22px;font-weight:800" id="reviewCount">0</div><div>For Review</div></div>
          <div class="stat-box"><div style="font-size:22px;font-weight:800" id="viewedCount">0</div><div>Options Seen</div></div>
        </div>
      </div>

      <div id="summaryLists" class="summary-section"></div>

      <div style="display:flex;gap:8px;margin-top:12px">
        <button class="btn" onclick="backToExploring()">Continue Exploring</button>
        <button class="btn" onclick="restartExploration()">Start Over</button>
      </div>
    </div>
  </div>

  <div id="toast" class="toast" role="status" aria-live="polite"></div>

  <script>
    // --- Data ---
    const OPTIONS = /* same data array as original (kept short here for readability) */ [
      {id:'litigation',title:'Litigation & Advocacy',category:'Legal Practice',short:'Represent clients in court',description:'Litigation involves representing clients in courts...',pros:['Fastest legal learning curve','High independence long-term'],cons:['Unstable income initially','Long hours'],actions:['Take drafting-heavy internships','Specialize early']},
      {id:'corporate',title:'Corporate Law Practice',category:'Business Law',short:'Work with businesses on contracts',description:'Corporate law focuses on structuring business transactions...',pros:['Good salary from day one','Structured work environment'],cons:['Document-heavy early work','Long hours'],actions:['Master contract drafting','Intern at corporate law firms']},
      {id:'llm',title:'Advanced Studies (LLM)',category:'Academia',short:'Specialize with a Masters',description:'An LLM helps you specialize...',pros:['Deep specialized knowledge'],cons:['Expensive'],actions:['Choose your specialization early']},
      {id:'judicial',title:'Judicial Services',category:'Government',short:'Become a judge via exams',description:'Judicial Services leads to becoming a Civil Judge...',pros:['Highly respected position'],cons:['Extremely competitive exams'],actions:['Study bare acts daily']},
      {id:'govt',title:'Government & Policy Work',category:'Public Service',short:'Work with govt or NGOs',description:'Work in government commissions...',pros:['High social impact'],cons:['Moderate salary'],actions:['Volunteer with legal aid clinics']},
      {id:'inhouse',title:'In-House Legal Counsel',category:'Corporate',short:'Join a company legal team',description:'Work inside companies advising business teams...',pros:['Better work-life balance'],cons:['Usually requires prior experience'],actions:['Get compliance certifications']},
      {id:'research',title:'Legal Research & Academia',category:'Academia',short:'Research and teach',description:'Focus on academic writing...',pros:['Intellectual satisfaction'],cons:['Lower starting salary'],actions:['Write and publish research papers']},
      {id:'legaltech',title:'Legal Technology & Startups',category:'Innovation',short:'Combine law & tech',description:'Work on legal technology solutions...',pros:['Fast-growing industry'],cons:['Requires tech understanding'],actions:['Learn about legal tech tools']},
      {id:'special',title:'Specialized Practice Areas',category:'Niche Practice',short:'Arbitration, patents etc.',description:'Specialize in areas like arbitration...',pros:['High specialization value'],cons:['Requires years to establish'],actions:['Take arbitration/mediation courses']}
    ];

    // --- State ---
    let currentIndex = Number(localStorage.getItem('prarthna_index') || 0);
    let selections = JSON.parse(localStorage.getItem('prarthna_career_choices') || '{}');
    let historyStack = JSON.parse(localStorage.getItem('prarthna_history') || '[]');

    // DOM refs
    const startBtn = document.getElementById('startBtn');
    const cardContainer = document.getElementById('cardContainer');
    const progressBar = document.getElementById('progressBar');
    const progressText = document.getElementById('progressText');
    const prevBtn = document.getElementById('prevBtn');
    const nextBtn = document.getElementById('nextBtn');
    const undoBtn = document.getElementById('undoBtn');
    const exportBtn = document.getElementById('exportBtn');
    const summaryBtn = document.getElementById('summaryBtn');
    const toast = document.getElementById('toast');
    const searchInput = document.getElementById('searchInput');
    const filterSelect = document.getElementById('filterSelect');

    // init
    document.addEventListener('DOMContentLoaded', ()=>{
      populateFilters();
      bindEvents();
      renderCard();
      updateNavButtons();
    });

    function populateFilters(){
      const cats = Array.from(new Set(OPTIONS.map(o=>o.category)));
      cats.forEach(c=>{
        const opt = document.createElement('option'); opt.value=c; opt.textContent=c; filterSelect.appendChild(opt);
      });
    }

    // Attach handlers
    function bindEvents(){
      startBtn.addEventListener('click', ()=>{ showPage('explorerPage'); renderCard(); });
      document.getElementById('prevBtn').addEventListener('click', previousCard);
      document.getElementById('nextBtn').addEventListener('click', nextCard);
      undoBtn.addEventListener('click', undoLast);
      exportBtn.addEventListener('click', exportJSON);
      summaryBtn.addEventListener('click', showSummary);
      document.getElementById('mPrev').addEventListener('click', previousCard);
      document.getElementById('mNext').addEventListener('click', nextCard);
      document.getElementById('mExport').addEventListener('click', exportJSON);
      document.getElementById('mSummary').addEventListener('click', showSummary);
      document.getElementById('importBtn').addEventListener('click', importJSON);

      // keyboard
      document.addEventListener('keydown', e=>{
        if(document.getElementById('explorerPage').classList.contains('active')){
          if(e.key==='ArrowRight') nextCard();
          if(e.key==='ArrowLeft') previousCard();
        }
      });

      // search & filter
      searchInput.addEventListener('input', renderCard);
      filterSelect.addEventListener('change', ()=>{ currentIndex=0; renderCard(); });

      // save position before unload
      window.addEventListener('beforeunload',()=>{
        localStorage.setItem('prarthna_index', currentIndex);
      });
    }

    // UI helpers
    function showPage(id){ document.querySelectorAll('.page').forEach(p=>p.classList.remove('active')); document.getElementById(id).classList.add('active'); }
    function toastShow(msg,ms=1800){ toast.textContent=msg; toast.classList.add('show'); setTimeout(()=>toast.classList.remove('show'),ms); }

    // Filtering
    function getFilteredOptions(){
      const q = searchInput.value.trim().toLowerCase();
      const f = filterSelect.value;
      let arr = OPTIONS.slice();
      if(f!=='all') arr = arr.filter(o=>o.category===f);
      if(q) arr = arr.filter(o=> (o.title+o.short+o.description).toLowerCase().includes(q));
      return arr;
    }

    // render card
    function renderCard(){
      const list = getFilteredOptions();
      if(list.length===0){ cardContainer.innerHTML = '<div style="padding:20px">No options found</div>'; progressBar.style.width='0%'; progressText.textContent='0 of 0'; return; }
      if(currentIndex < 0) currentIndex = 0; if(currentIndex >= list.length) currentIndex = list.length-1;
      const option = list[currentIndex];

      const status = selections[option.id] || 'none';

      cardContainer.innerHTML = `
        <div style="display:flex;justify-content:space-between;align-items:center;gap:12px">
          <div class="card-category">${option.category}</div>
          <div style="font-size:13px;color:var(--muted)">ID: ${option.id}</div>
        </div>
        <div>
          <div class="card-title">${option.title}</div>
          <div class="card-subtitle">${option.short}</div>
        </div>
        <div class="card-description">${option.description}</div>

        <div class="pros-cons">
          <div class="box"><h4>Advantages</h4><ul>${option.pros.map(p=>`<li>${p}</li>`).join('')}</ul></div>
          <div class="box"><h4>Challenges</h4><ul>${option.cons.map(c=>`<li>${c}</li>`).join('')}</ul></div>
        </div>

        <div class="action-steps"><strong>Next steps</strong><ol>${option.actions.map(a=>`<li>${a}</li>`).join('')}</ol></div>

        <div class="button-group">
          <button class="action-btn ${status==='interested'?'interested':''}" id="bInterested"><span class="emoji">üíö</span><div>Interested</div></button>
          <button class="action-btn ${status==='review'?'review':''}" id="bReview"><span class="emoji">üìã</span><div>Review</div></button>
          <button class="action-btn ${status==='not-interested'?'not-interested':''}" id="bNot"><span class="emoji">‚úñÔ∏è</span><div>Pass</div></button>
        </div>
      `;

      // update progress
      const percent = Math.round(((currentIndex+1)/list.length)*100);
      progressBar.style.width = percent + '%';
      progressText.textContent = `Option ${currentIndex+1} of ${list.length}`;

      // enable/disable nav
      updateNavButtons(list.length);

      // bind option buttons
      document.getElementById('bInterested').addEventListener('click', ()=>markOption(option.id,'interested'));
      document.getElementById('bReview').addEventListener('click', ()=>markOption(option.id,'review'));
      document.getElementById('bNot').addEventListener('click', ()=>markOption(option.id,'not-interested'));

      // save index of this filtered list to localStorage
      localStorage.setItem('prarthna_index', currentIndex);
    }

    function updateNavButtons(len = getFilteredOptions().length){
      prevBtn.disabled = currentIndex === 0;
      nextBtn.disabled = currentIndex >= (len - 1);
    }

    // mark option
    function markOption(id,status){
      historyStack.push({id,prev:selections[id]||null});
      selections[id]=status; persist(); renderCard(); toastShow('Saved ‚Äî ' + status);
      // vibrate if supported
      if(navigator.vibrate) navigator.vibrate(40);
    }

    function persist(){
      localStorage.setItem('prarthna_career_choices', JSON.stringify(selections));
      localStorage.setItem('prarthna_history', JSON.stringify(historyStack));
    }

    function undoLast(){
      const last = historyStack.pop();
      if(!last){ toastShow('Nothing to undo'); return; }
      if(last.prev===null) delete selections[last.id]; else selections[last.id]=last.prev;
      persist(); renderCard(); toastShow('Undone');
    }

    function nextCard(){ const list=getFilteredOptions(); if(currentIndex < list.length -1){ currentIndex++; renderCard(); } }
    function previousCard(){ if(currentIndex>0){ currentIndex--; renderCard(); } }

    // Summary
    function showSummary(){ showPage('summaryPage'); renderSummary(); }
    function renderSummary(){
      const interested=[]; const review=[]; const passed=[];
      OPTIONS.forEach(o=>{ const s=selections[o.id]; if(s==='interested') interested.push(o); else if(s==='review') review.push(o); else if(s==='not-interested') passed.push(o); });
      document.getElementById('interestedCount').textContent = interested.length;
      document.getElementById('reviewCount').textContent = review.length;
      document.getElementById('viewedCount').textContent = Object.keys(selections).length;

      const lists = [];
      if(interested.length) lists.push(`<h3>Interested</h3>${interested.map(o=>`<div class="option-card-small"><div>${o.title}<div style="font-size:12px;color:var(--muted)">${o.category}</div></div><div>üíö</div></div>`).join('')}`);
      if(review.length) lists.push(`<h3>For Review</h3>${review.map(o=>`<div class="option-card-small"><div>${o.title}<div style="font-size:12px;color:var(--muted)">${o.category}</div></div><div>üìã</div></div>`).join('')}`);
      if(passed.length) lists.push(`<h3>Passed</h3>${passed.map(o=>`<div class="option-card-small"><div>${o.title}<div style="font-size:12px;color:var(--muted)">${o.category}</div></div><div>‚úñÔ∏è</div></div>`).join('')}`);

      document.getElementById('summaryLists').innerHTML = lists.join('') || '<div>No selections yet ‚Äî go explore!</div>';
    }

    // Export/Import JSON
    function exportJSON(){ const data = {selections, timestamp:new Date().toISOString()}; const blob = new Blob([JSON.stringify(data, null, 2)],{type:'application/json'}); const url = URL.createObjectURL(blob); const a=document.createElement('a'); a.href=url; a.download='career-choices.json'; a.click(); URL.revokeObjectURL(url); toastShow('Exported'); }
    function importJSON(){ const input=document.createElement('input'); input.type='file'; input.accept='application/json'; input.onchange=e=>{ const f=e.target.files[0]; if(!f) return; const r=new FileReader(); r.onload=ev=>{ try{ const data=JSON.parse(ev.target.result); if(data.selections) { selections=data.selections; historyStack=[]; persist(); renderCard(); toastShow('Imported'); } }catch(err){ toastShow('Invalid file'); }}; r.readAsText(f); }; input.click(); }

    function restartExploration(){ if(confirm('This will clear all your selections. Continue?')){ selections={}; historyStack=[]; currentIndex=0; persist(); showPage('explorerPage'); renderCard(); }}

    // Touch gestures (simple)
    let touchStartX=0; document.addEventListener('touchstart', e=>touchStartX=e.changedTouches[0].screenX);
    document.addEventListener('touchend', e=>{ const dx = touchStartX - e.changedTouches[0].screenX; if(Math.abs(dx)>60){ if(dx>0) nextCard(); else previousCard(); } });

    // prevent accidental data loss
    window.addEventListener('beforeunload', e=>{ localStorage.setItem('prarthna_career_choices', JSON.stringify(selections)); });
  </script>
</body>
</html>
